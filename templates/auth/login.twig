{% extends "base.twig" %}

{% block title %}Login - Ticket App{% endblock %}

{% block content %}
<section class="profile-card card" aria-labelledby="login-title">
    <h2 id="login-title">Login</h2>
    
    <form method="POST" action="/auth/login" 
          {% if errors.form %}aria-describedby="login-error"{% endif %} 
          novalidate>
        
        {% if errors.form %}
            <div id="login-error" role="alert" style="color: red">{{ errors.form }}</div>
        {% endif %}
        
        <div class="form-group">
            <label for="email">Email</label>
            <input id="email" 
                   type="email" 
                   name="email" 
                   value="{{ old.email|default('') }}"
                   {% if errors.email %}aria-describedby="err-email"{% endif %}
            />
            {% if errors.email %}
                <small id="err-email" role="alert" style="color: red">{{ errors.email }}</small>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="pwd">Password</label>
            <input id="pwd" 
                   type="password" 
                   name="password"
                   {% if errors.password %}aria-describedby="err-pwd"{% endif %}
            />
            {% if errors.password %}
                <small id="err-pwd" role="alert" style="color: red">{{ errors.password }}</small>
            {% endif %}
        </div>

        <div style="display: flex; gap: 8px">
            <button type="submit">Login</button>
            <a href="/auth/signup">
                <button type="button" class="secondary">Sign up</button>
            </a>
        </div>

        <p style="margin-top: 10px; color: #555">Need an account? Click Sign up to create one.</p>
    </form>
</section>
{% endblock %}